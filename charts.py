#!/usr/bin/env python
# encoding: utf-8
## vim:ts=4:et:nowrap

# http://www.danielsoper.com/statcalc3/calc.aspx?id=96
# https://www.mccallum-layton.co.uk/tools/statistic-calculators/confidence-interval-for-mean-calculator/#confidence-interval-for-mean-calculator

import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import numpy as np
import matplotlib.mlab as mlab
import math

patches = []

use_chart1 = True

if use_chart1:
    # GISETTE
    d = [
            [0.675, 0.676, 0.676, 0.682, 0.688, 0.688, 0.691, 0.692, 0.694, 0.695, 0.695, 0.694, 0.694, 0.695, 0.701, 0.702, 0.704, 0.705, 0.705, 0.706],
            [0.661, 0.667, 0.666, 0.669, 0.679, 0.674, 0.682, 0.685, 0.681, 0.682, 0.675, 0.681, 0.688, 0.674, 0.684, 0.689, 0.687, 0.667, 0.677, 0.688],
            [0.633, 0.639, 0.656, 0.655, 0.662, 0.66, 0.664, 0.677, 0.674, 0.647, 0.673, 0.673, 0.674, 0.686, 0.672, 0.677, 0.678, 0.664, 0.686, 0.669],
            [0.666, 0.675, 0.683, 0.687, 0.686, 0.684, 0.69, 0.688, 0.681, 0.694, 0.7, 0.697, 0.697, 0.702, 0.706, 0.704, 0.712, 0.71, 0.71, 0.714],
        ]

    # SHUTTLE 1
    # d = [
    #         [0.252, 0.256, 0.261, 0.259, 0.263, 0.265, 0.276, 0.275, 0.276, 0.284, 0.279, 0.278, 0.28, 0.281, 0.288, 0.286, 0.291, 0.289, 0.286, 0.291],
    #         [0.232, 0.237, 0.249, 0.243, 0.256, 0.265, 0.263, 0.251, 0.268, 0.272, 0.273, 0.277, 0.272, 0.261, 0.269, 0.262, 0.266, 0.273, 0.277, 0.259],
    #         [0.274, 0.271, 0.273, 0.268, 0.287, 0.284, 0.272, 0.276, 0.276, 0.279, 0.271, 0.278, 0.274, 0.279, 0.283, 0.284, 0.288, 0.271, 0.275, 0.292],
    #         [0.251, 0.249, 0.262, 0.26, 0.261, 0.263, 0.262, 0.26, 0.266, 0.26, 0.261, 0.269, 0.274, 0.275, 0.281, 0.273, 0.277, 0.278, 0.276, 0.274],
    #     ]

    # SHUTTLE 2
    # d = [
    #         [0.235, 0.236, 0.245, 0.243, 0.248, 0.257, 0.256, 0.258, 0.265, 0.258, 0.266, 0.268, 0.264, 0.272, 0.263, 0.269, 0.271, 0.272, 0.275, 0.274, 0.276, 0.279, 0.277, 0.283, 0.277, 0.278, 0.28, 0.282, 0.286, 0.287, 0.289, 0.289, 0.287, 0.29, 0.285, 0.291, 0.29, 0.292, 0.29, 0.293, 0.294, 0.294, 0.292, 0.292, 0.292, 0.293, 0.295, 0.293, 0.292, 0.293],
    #         [0.214, 0.233, 0.237, 0.251, 0.242, 0.232, 0.247, 0.235, 0.25, 0.244, 0.252, 0.247, 0.251, 0.251, 0.242, 0.242, 0.231, 0.229, 0.239, 0.246, 0.25, 0.239, 0.235, 0.258, 0.245, 0.242, 0.223, 0.251, 0.262, 0.251, 0.25, 0.241, 0.251, 0.258, 0.261, 0.262, 0.259, 0.257, 0.253, 0.233, 0.241, 0.256, 0.245, 0.233, 0.239, 0.241, 0.233, 0.232, 0.251, 0.259],
    #         [0.241, 0.247, 0.254, 0.263, 0.256, 0.248, 0.243, 0.244, 0.257, 0.241, 0.239, 0.246, 0.224, 0.246, 0.25, 0.256, 0.243, 0.227, 0.246, 0.252, 0.253, 0.245, 0.244, 0.233, 0.245, 0.241, 0.245, 0.235, 0.249, 0.242, 0.238, 0.243, 0.241, 0.245, 0.244, 0.244, 0.233, 0.235, 0.233, 0.233, 0.256, 0.257, 0.259, 0.259, 0.24, 0.231, 0.245, 0.241, 0.27, 0.248],
    #         [0.226, 0.23, 0.232, 0.243, 0.246, 0.256, 0.251, 0.25, 0.251, 0.255, 0.258, 0.257, 0.26, 0.263, 0.258, 0.267, 0.264, 0.27, 0.269, 0.265, 0.267, 0.267, 0.27, 0.264, 0.266, 0.27, 0.273, 0.273, 0.272, 0.277, 0.273, 0.271, 0.275, 0.278, 0.272, 0.274, 0.276, 0.278, 0.274, 0.273, 0.28, 0.28, 0.278, 0.281, 0.275, 0.28, 0.284, 0.282, 0.28, 0.279],
    #     ]

    # SHUTTLE 3
    d = [
            [0.211, 0.217, 0.221, 0.219, 0.224, 0.23, 0.228, 0.23, 0.238, 0.236, 0.24, 0.238, 0.244, 0.249, 0.249, 0.251, 0.254, 0.257, 0.256, 0.26, 0.26, 0.263, 0.265, 0.266, 0.266, 0.264, 0.265, 0.268, 0.267, 0.269, 0.269, 0.269, 0.268, 0.266, 0.266, 0.268, 0.267, 0.266, 0.267, 0.268, 0.269, 0.271, 0.271, 0.272, 0.272, 0.27, 0.271, 0.272, 0.271, 0.271, 0.27, 0.271, 0.273, 0.274, 0.274, 0.274, 0.274, 0.274, 0.275, 0.275, 0.275, 0.274, 0.274, 0.275, 0.274, 0.274, 0.274, 0.275, 0.275, 0.275, 0.276, 0.277, 0.275, 0.276, 0.276, 0.276, 0.277, 0.276, 0.276, 0.276, 0.277, 0.277, 0.277, 0.277, 0.276, 0.277, 0.277, 0.277, 0.278, 0.277, 0.278, 0.279, 0.277, 0.278, 0.277, 0.277, 0.277, 0.278, 0.277, 0.278],
            [0.189, 0.169, 0.205, 0.201, 0.215, 0.233, 0.225, 0.222, 0.22, 0.215, 0.224, 0.227, 0.231, 0.223, 0.221, 0.21, 0.212, 0.204, 0.22, 0.216, 0.223, 0.215, 0.219, 0.213, 0.223, 0.221, 0.215, 0.212, 0.204, 0.217, 0.211, 0.209, 0.217, 0.206, 0.202, 0.216, 0.213, 0.191, 0.203, 0.215, 0.221, 0.212, 0.229, 0.232, 0.23, 0.216, 0.229, 0.227, 0.217, 0.204, 0.218, 0.204, 0.212, 0.233, 0.233, 0.245, 0.227, 0.241, 0.229, 0.224, 0.231, 0.226, 0.236, 0.229, 0.221, 0.22, 0.215, 0.221, 0.213, 0.235, 0.229, 0.242, 0.239, 0.226, 0.222, 0.235, 0.216, 0.226, 0.224, 0.234, 0.234, 0.234, 0.234, 0.227, 0.242, 0.237, 0.239, 0.239, 0.238, 0.238, 0.219, 0.224, 0.23, 0.228, 0.235, 0.235, 0.229, 0.242, 0.234, 0.228],
            [0.196, 0.214, 0.206, 0.216, 0.224, 0.235, 0.227, 0.234, 0.231, 0.231, 0.224, 0.224, 0.23, 0.223, 0.208, 0.224, 0.225, 0.215, 0.218, 0.209, 0.226, 0.211, 0.219, 0.218, 0.226, 0.206, 0.224, 0.223, 0.231, 0.208, 0.22, 0.237, 0.221, 0.218, 0.194, 0.194, 0.209, 0.217, 0.211, 0.211, 0.215, 0.218, 0.218, 0.229, 0.244, 0.229, 0.217, 0.232, 0.214, 0.215, 0.218, 0.227, 0.221, 0.254, 0.241, 0.246, 0.244, 0.222, 0.236, 0.239, 0.229, 0.236, 0.23, 0.235, 0.232, 0.227, 0.246, 0.247, 0.25, 0.235, 0.233, 0.24, 0.236, 0.252, 0.261, 0.243, 0.248, 0.254, 0.246, 0.229, 0.253, 0.248, 0.255, 0.246, 0.247, 0.247, 0.249, 0.243, 0.251, 0.258, 0.246, 0.252, 0.255, 0.232, 0.255, 0.24, 0.251, 0.257, 0.236, 0.258],
            [0.224, 0.239, 0.24, 0.245, 0.248, 0.246, 0.247, 0.248, 0.243, 0.245, 0.25, 0.253, 0.254, 0.251, 0.251, 0.253, 0.256, 0.257, 0.265, 0.267, 0.272, 0.271, 0.274, 0.273, 0.268, 0.271, 0.266, 0.271, 0.269, 0.272, 0.271, 0.269, 0.271, 0.267, 0.275, 0.272, 0.275, 0.276, 0.272, 0.276, 0.275, 0.276, 0.276, 0.279, 0.278, 0.279, 0.275, 0.275, 0.277, 0.281, 0.278, 0.28, 0.28, 0.277, 0.279, 0.278, 0.279, 0.28, 0.281, 0.276, 0.279, 0.283, 0.284, 0.278, 0.279, 0.284, 0.281, 0.28, 0.282, 0.284, 0.281, 0.283, 0.283, 0.282, 0.284, 0.283, 0.28, 0.283, 0.282, 0.281, 0.279, 0.283, 0.279, 0.28, 0.28, 0.281, 0.281, 0.28, 0.28, 0.28, 0.28, 0.28, 0.28, 0.282, 0.281, 0.278, 0.28, 0.28, 0.282, 0.281]
    ]

    data = d[0]
    color = 'r'
    plt.plot(data,color)
    patches.append(mpatches.Patch(color=color, label='no diversity maintenance'))

    data = d[1]
    color = 'b'
    plt.plot(data,color)
    patches.append(mpatches.Patch(color=color, label='fitness sharing'))

    data = d[2]
    color = 'g'
    plt.plot(data,color)
    patches.append(mpatches.Patch(color=color, label='classwise fitness sharing'))

    data = d[3]
    color = 'm'
    plt.plot(data,color)
    patches.append(mpatches.Patch(color=color, label='genotype distance'))

    plt.title("Performance across case studies")
    plt.legend(handles=patches)
    # plt.axis([0, 19, 0.5, 1.0])
    plt.axis([0, 99, 0.0, 0.5])
    plt.show()
else:
    m = [[0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.0, 0.153, 0.0, 0.0, 1.0, 0.0, 1.0], [0.0, 0.153, 0.0, 0.0, 1.0, 0.0, 1.0], [0.0, 0.0, 0.0, 0.423, 0.0, 1.0, 0.0], [0.0, 0.0, 0.0, 0.423, 0.0, 1.0, 0.0], [0.0, 0.0, 0.0, 0.423, 0.0, 1.0, 0.0], [0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.475, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0], [0.475, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.475, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.475, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.386, 0.538, 0.435, 0.0, 0.736, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.589, 1.0, 0.333, 0.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.589, 1.0, 0.333, 0.0, 0.0, 0.0, 0.0], [0.555, 1.0, 0.538, 0.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.555, 1.0, 0.538, 0.0, 0.0, 0.0, 0.0], [0.555, 1.0, 0.538, 0.0, 0.0, 0.0, 0.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.508, 1.0, 0.589, 0.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.738, 0.0, 0.461, 0.884, 0.0, 0.0, 0.0], [0.555, 1.0, 0.538, 0.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.555, 1.0, 0.538, 0.0, 0.0, 0.0, 0.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.538, 1.0, 0.0, 0.0, 0.0], [0.466, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0], [0.0, 0.0, 0.538, 1.0, 0.0, 0.0, 0.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.538, 1.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.538, 1.0, 0.0, 0.0, 0.0], [0.508, 1.0, 0.589, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.538, 1.0, 0.0, 0.0, 0.0], [0.738, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.897, 0.0, 0.641, 0.884, 0.0, 0.0, 0.0]]
    # OLD
    # m = [[0.035, 0.0, 0.0, 0.0, 0.992, 0.0, 1.0], [0.035, 0.0, 0.0, 0.0, 0.992, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.452, 0.615, 0.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], [0.806, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0]]

    # m = [[0.856, 0.846, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.846, 0.0, 0.447, 0.271, 0.0, 0.0], [0.625, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0], [0.856, 0.846, 0.0, 0.0, 0.0, 0.0, 0.0], [0.856, 0.846, 0.0, 0.0, 0.0, 0.0, 0.0], [0.625, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0], [0.198, 0.0, 0.0, 0.821, 0.0, 0.0, 0.0], [0.468, 0.0, 0.0, 0.931, 0.0, 0.0, 0.0], [0.0, 0.0, 0.564, 0.0, 1.0, 0.0, 0.0], [0.0, 0.0, 0.564, 0.0, 1.0, 0.0, 0.0], [0.0, 0.0, 0.538, 0.0, 0.756, 1.0, 0.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0], [0.0, 0.0, 0.564, 0.0, 1.0, 0.0, 0.0], [0.0, 0.0, 0.564, 0.0, 1.0, 0.0, 0.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0], [0.0, 0.0, 0.564, 0.0, 1.0, 0.0, 0.0], [0.795, 0.769, 0.0, 0.0, 0.0, 0.0, 1.0]]
    # m = [[0.64, 0.0, 0.41, 0.714, 0.0, 0.0, 0.0], [0.64, 0.0, 0.41, 0.714, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.64, 0.0, 0.41, 0.714, 0.0, 0.0, 0.0], [0.997, 0.923, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.672, 0.0, 1.0, 0.0, 0.802, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.756, 0.846, 0.0, 0.0, 0.0, 0.0, 1.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0], [0.12, 0.0, 0.384, 0.0, 0.362, 0.75, 0.0], [0.603, 0.0, 1.0, 0.884, 0.0, 0.0, 0.0]]

    # m = [[0.0, 0.0, 0.0, 0.439, 0.0, 0.75, 1.0], [0.756, 0.846, 0.358, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.439, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0], [0.66, 0.0, 0.0, 0.372, 0.0, 0.75, 1.0]]
    # m = [[0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.0, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.635, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.635, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.635, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0], [0.681, 0.846, 0.0, 0.0, 0.0, 0.0, 1.0], [0.493, 0.0, 0.615, 0.0, 0.0, 1.0, 0.0], [0.642, 0.0, 0.846, 0.0, 0.436, 0.0, 0.0], [0.0, 1.0, 0.0, 0.0, 0.593, 0.0, 0.0], [0.635, 0.538, 0.0, 0.911, 0.0, 0.0, 1.0]]

    a = np.array(m)
    np.set_printoptions(precision=3)
    d = [a[:,0], a[:,1], a[:,2], a[:,3], a[:,4], a[:,5], a[:,6]]

    for item in d:
        data = item
        plt.plot(data)

    plt.title("DR per class over generations")
    plt.axis([0, 49, -0.1, 1.1])
    plt.show()
