"""
Demo of the new violinplot functionality
http://matplotlib.org/examples/statistics/violinplot_demo.html
"""

import random
import numpy as np
import matplotlib.pyplot as plt
from statsmodels.graphics.boxplots import violinplot

# fake data
fs = 10 # fontsize
pos = [1,2,3,4,5,6,7]
# data = [np.random.normal(size=100) for i in pos]
data = [
    [0.516, 0.505, 0.52, 0.518, 0.517, 0.49, 0.516, 0.517, 0.51, 0.514, 0.452, 0.492, 0.497, 0.516, 0.491, 0.519, 0.505, 0.509, 0.516, 0.489, 0.491, 0.489, 0.507, 0.489, 0.491, 0.503, 0.489, 0.489, 0.491, 0.511, 0.511, 0.518, 0.491, 0.459, 0.529, 0.497, 0.492, 0.503, 0.491, 0.522, 0.518, 0.519, 0.51, 0.507, 0.506, 0.493, 0.489, 0.512, 0.489, 0.491, 0.496, 0.445, 0.517, 0.516, 0.516, 0.516, 0.497, 0.515, 0.516, 0.485, 0.507, 0.492, 0.499, 0.511, 0.489, 0.487, 0.517, 0.513, 0.516, 0.489, 0.516, 0.457, 0.501, 0.515, 0.486, 0.49, 0.516, 0.514, 0.517, 0.461, 0.489, 0.489, 0.462, 0.512, 0.509, 0.516, 0.48, 0.497, 0.501, 0.511, 0.458, 0.484, 0.517, 0.502, 0.489, 0.497, 0.516, 0.506, 0.445, 0.488, 0.508, 0.517, 0.517, 0.509, 0.501, 0.507, 0.517, 0.509, 0.493, 0.514, 0.509, 0.517, 0.511, 0.509, 0.455, 0.491, 0.496, 0.487, 0.45, 0.484, 0.473, 0.509, 0.518, 0.489, 0.497, 0.511, 0.45, 0.511, 0.5, 0.508, 0.493, 0.509, 0.496, 0.505, 0.508, 0.489, 0.492, 0.489, 0.503, 0.502, 0.489, 0.508, 0.491, 0.491, 0.492, 0.502, 0.488, 0.504, 0.47, 0.489],
    [0.529, 0.489, 0.529, 0.513, 0.526, 0.518, 0.519, 0.524, 0.524, 0.52, 0.531, 0.526, 0.485, 0.489, 0.502, 0.489, 0.485, 0.517, 0.516, 0.499, 0.489, 0.521, 0.513, 0.489, 0.523, 0.49, 0.528, 0.524, 0.521, 0.488, 0.522, 0.489, 0.501, 0.484, 0.489, 0.469, 0.517, 0.521, 0.523, 0.522, 0.515, 0.489, 0.506, 0.523, 0.507, 0.489, 0.491, 0.486, 0.488, 0.452, 0.524, 0.517, 0.521, 0.507, 0.528, 0.498, 0.526, 0.496, 0.511, 0.523, 0.522, 0.519, 0.505, 0.516, 0.497, 0.522, 0.445, 0.517, 0.52, 0.509, 0.445, 0.49, 0.525, 0.497, 0.506, 0.516, 0.519, 0.521, 0.491, 0.5, 0.527, 0.484, 0.501, 0.491, 0.505, 0.497, 0.502, 0.491, 0.517, 0.5, 0.477, 0.499, 0.506, 0.517, 0.497, 0.473, 0.494, 0.491, 0.491, 0.517, 0.506, 0.489, 0.51, 0.45, 0.505, 0.47, 0.514, 0.508, 0.506, 0.45, 0.505, 0.507, 0.514, 0.507, 0.466, 0.505, 0.489, 0.502, 0.472, 0.485, 0.495, 0.506, 0.506, 0.51, 0.486, 0.501, 0.504, 0.493, 0.508, 0.489, 0.51, 0.474, 0.471, 0.461, 0.506, 0.45, 0.465, 0.495, 0.472, 0.489, 0.509, 0.489, 0.489, 0.469, 0.506, 0.495, 0.495, 0.502, 0.501, 0.453],
    [0.516, 0.495, 0.517, 0.519, 0.519, 0.524, 0.516, 0.517, 0.519, 0.52, 0.472, 0.516, 0.506, 0.506, 0.516, 0.519, 0.449, 0.519, 0.516, 0.51, 0.518, 0.445, 0.493, 0.519, 0.519, 0.52, 0.518, 0.513, 0.497, 0.514, 0.497, 0.505, 0.521, 0.481, 0.518, 0.51, 0.516, 0.513, 0.505, 0.493, 0.467, 0.499, 0.505, 0.516, 0.496, 0.517, 0.514, 0.519, 0.495, 0.479, 0.515, 0.512, 0.507, 0.519, 0.512, 0.508, 0.516, 0.507, 0.507, 0.51, 0.512, 0.512, 0.509, 0.464, 0.514, 0.492, 0.512, 0.505, 0.513, 0.513, 0.505, 0.506, 0.519, 0.513, 0.513, 0.511, 0.511, 0.507, 0.515, 0.482, 0.497, 0.477, 0.505, 0.48, 0.49, 0.509, 0.474, 0.51, 0.513, 0.468, 0.509, 0.489, 0.482, 0.515, 0.515, 0.51, 0.485, 0.51, 0.516, 0.479, 0.52, 0.52, 0.517, 0.515, 0.523, 0.508, 0.512, 0.512, 0.518, 0.487, 0.52, 0.518, 0.521, 0.523, 0.515, 0.507, 0.503, 0.517, 0.498, 0.519, 0.521, 0.522, 0.521, 0.524, 0.479, 0.496, 0.508, 0.524, 0.501, 0.513, 0.509, 0.507, 0.471, 0.521, 0.514, 0.505, 0.471, 0.488, 0.505, 0.5, 0.517, 0.469, 0.521, 0.484, 0.518, 0.471, 0.522, 0.516, 0.482, 0.513],
    [0.524, 0.504, 0.49, 0.478, 0.509, 0.478, 0.478, 0.474, 0.5, 0.526, 0.521, 0.478, 0.469, 0.533, 0.523, 0.524, 0.524, 0.501, 0.528, 0.523, 0.521, 0.516, 0.522, 0.455, 0.51, 0.513, 0.526, 0.515, 0.489, 0.534, 0.529, 0.501, 0.505, 0.505, 0.51, 0.53, 0.516, 0.504, 0.461, 0.461, 0.524, 0.496, 0.515, 0.48, 0.5, 0.503, 0.523, 0.477, 0.498, 0.509, 0.52, 0.512, 0.519, 0.491, 0.527, 0.524, 0.526, 0.499, 0.513, 0.518, 0.48, 0.527, 0.525, 0.514, 0.522, 0.51, 0.523, 0.526, 0.488, 0.521, 0.525, 0.517, 0.52, 0.517, 0.521, 0.472, 0.528, 0.527, 0.524, 0.475, 0.52, 0.517, 0.521, 0.503, 0.47, 0.482, 0.526, 0.52, 0.482, 0.526, 0.528, 0.527, 0.528, 0.521, 0.515, 0.526, 0.46, 0.52, 0.527, 0.523, 0.498, 0.506, 0.501, 0.516, 0.504, 0.513, 0.491, 0.508, 0.511, 0.505, 0.512, 0.468, 0.496, 0.511, 0.51, 0.509, 0.495, 0.509, 0.495, 0.513, 0.462, 0.511, 0.511, 0.508, 0.504, 0.51, 0.482, 0.462, 0.497, 0.489, 0.504, 0.499, 0.505, 0.474, 0.484, 0.479, 0.469, 0.511, 0.484, 0.484, 0.495, 0.504, 0.505, 0.485, 0.511, 0.513, 0.468, 0.473, 0.482, 0.473],
    [0.507, 0.512, 0.521, 0.515, 0.521, 0.508, 0.496, 0.508, 0.514, 0.524, 0.508, 0.515, 0.513, 0.515, 0.526, 0.511, 0.521, 0.52, 0.515, 0.523, 0.517, 0.506, 0.521, 0.509, 0.521, 0.526, 0.501, 0.52, 0.516, 0.48, 0.52, 0.52, 0.514, 0.471, 0.522, 0.484, 0.513, 0.524, 0.514, 0.523, 0.516, 0.52, 0.457, 0.491, 0.508, 0.516, 0.486, 0.505, 0.485, 0.524, 0.522, 0.519, 0.526, 0.525, 0.526, 0.522, 0.527, 0.514, 0.492, 0.525, 0.485, 0.529, 0.527, 0.519, 0.5, 0.525, 0.526, 0.529, 0.506, 0.524, 0.522, 0.514, 0.514, 0.525, 0.506, 0.514, 0.493, 0.497, 0.526, 0.502, 0.471, 0.522, 0.502, 0.484, 0.515, 0.525, 0.523, 0.483, 0.469, 0.524, 0.518, 0.484, 0.506, 0.483, 0.526, 0.517, 0.505, 0.524, 0.525, 0.5, 0.531, 0.532, 0.527, 0.512, 0.524, 0.532, 0.526, 0.526, 0.513, 0.501, 0.522, 0.525, 0.537, 0.506, 0.516, 0.525, 0.47, 0.527, 0.525, 0.49, 0.517, 0.532, 0.484, 0.516, 0.479, 0.491, 0.486, 0.523, 0.515, 0.509, 0.515, 0.531, 0.525, 0.502, 0.51, 0.529, 0.523, 0.51, 0.507, 0.501, 0.532, 0.499, 0.49, 0.515, 0.456, 0.523, 0.502, 0.493, 0.486, 0.508],
    [0.518, 0.524, 0.514, 0.519, 0.512, 0.49, 0.516, 0.524, 0.479, 0.515, 0.487, 0.5, 0.451, 0.522, 0.515, 0.488, 0.521, 0.524, 0.517, 0.52, 0.516, 0.508, 0.52, 0.523, 0.471, 0.48, 0.492, 0.525, 0.498, 0.528, 0.469, 0.516, 0.491, 0.483, 0.523, 0.5, 0.49, 0.494, 0.525, 0.466, 0.484, 0.505, 0.503, 0.453, 0.487, 0.513, 0.507, 0.514, 0.491, 0.488, 0.516, 0.496, 0.499, 0.484, 0.504, 0.51, 0.508, 0.514, 0.521, 0.427, 0.404, 0.51, 0.494, 0.47, 0.515, 0.508, 0.522, 0.5, 0.486, 0.482, 0.515, 0.492, 0.489, 0.509, 0.498, 0.515, 0.519, 0.449, 0.508, 0.508, 0.473, 0.515, 0.461, 0.517, 0.443, 0.508, 0.494, 0.512, 0.514, 0.478, 0.509, 0.475, 0.51, 0.446, 0.438, 0.516, 0.501, 0.521, 0.515, 0.516, 0.533, 0.529, 0.527, 0.52, 0.532, 0.513, 0.52, 0.509, 0.493, 0.492, 0.525, 0.515, 0.533, 0.474, 0.477, 0.521, 0.525, 0.51, 0.506, 0.528, 0.52, 0.529, 0.496, 0.495, 0.52, 0.52, 0.529, 0.522, 0.463, 0.516, 0.48, 0.524, 0.476, 0.49, 0.473, 0.489, 0.478, 0.528, 0.525, 0.473, 0.47, 0.466, 0.526, 0.471, 0.457, 0.512, 0.496, 0.521, 0.516, 0.512, 0.519, 0.511, 0.518, 0.507, 0.513, 0.505, 0.489, 0.484, 0.514, 0.508, 0.522, 0.518, 0.482, 0.519, 0.51, 0.519, 0.503, 0.52, 0.517, 0.511, 0.514, 0.509, 0.518, 0.495, 0.454, 0.494, 0.511, 0.494, 0.516, 0.48, 0.467, 0.488, 0.489, 0.484, 0.513, 0.512, 0.489, 0.489, 0.514, 0.511, 0.486, 0.492, 0.5, 0.477, 0.492, 0.491, 0.487, 0.512, 0.5, 0.501, 0.517, 0.506, 0.518, 0.4, 0.503, 0.509, 0.517, 0.523, 0.502, 0.495, 0.508, 0.492, 0.502, 0.453, 0.486, 0.513, 0.488, 0.495, 0.477, 0.514, 0.516, 0.518, 0.502, 0.507, 0.501, 0.479, 0.517, 0.508, 0.468, 0.513, 0.516, 0.491, 0.514, 0.518, 0.517, 0.472, 0.516, 0.502, 0.517, 0.518, 0.452, 0.494, 0.46, 0.491, 0.491, 0.5, 0.487, 0.498, 0.508, 0.488],
    [0.526, 0.516, 0.529, 0.511, 0.514, 0.506, 0.525, 0.524, 0.498, 0.52, 0.465, 0.526, 0.516, 0.512, 0.508, 0.525, 0.495, 0.499, 0.453, 0.526, 0.514, 0.503, 0.518, 0.528, 0.483, 0.464, 0.51, 0.51, 0.499, 0.492, 0.449, 0.493, 0.495, 0.502, 0.495, 0.483, 0.504, 0.489, 0.519, 0.503, 0.501, 0.502, 0.503, 0.485, 0.502, 0.469, 0.488, 0.495, 0.518, 0.508, 0.512, 0.507, 0.528, 0.529, 0.495, 0.53, 0.527, 0.493, 0.516, 0.498, 0.49, 0.517, 0.529, 0.518, 0.527, 0.487, 0.495, 0.514, 0.472, 0.498, 0.476, 0.519, 0.522, 0.529, 0.452, 0.472, 0.494, 0.528, 0.457, 0.489, 0.51, 0.489, 0.49, 0.472, 0.478, 0.519, 0.525, 0.513, 0.449, 0.502, 0.521, 0.501, 0.519, 0.476, 0.485, 0.483, 0.454, 0.511, 0.5, 0.518, 0.521, 0.502, 0.521, 0.518, 0.505, 0.479, 0.519, 0.521, 0.504, 0.506, 0.521, 0.488, 0.511, 0.498, 0.52, 0.519, 0.514, 0.504, 0.51, 0.484, 0.502, 0.521, 0.513, 0.505, 0.517, 0.519, 0.509, 0.473, 0.49, 0.51, 0.487, 0.492, 0.483, 0.486, 0.506, 0.517, 0.465, 0.507, 0.513, 0.483, 0.481, 0.511, 0.479, 0.505, 0.479, 0.49, 0.5, 0.491, 0.518, 0.486, 0.501, 0.509, 0.508, 0.509, 0.493, 0.474, 0.492, 0.495, 0.511, 0.505, 0.509, 0.478, 0.488, 0.461, 0.506, 0.498, 0.484, 0.506, 0.478, 0.461, 0.484, 0.463, 0.507, 0.506, 0.486, 0.503, 0.505, 0.505, 0.488, 0.505, 0.505, 0.492, 0.493, 0.507, 0.501, 0.505, 0.488, 0.474, 0.461, 0.489, 0.421, 0.491, 0.49, 0.477, 0.464, 0.487, 0.477, 0.499, 0.508, 0.482, 0.514, 0.479, 0.453, 0.484, 0.48, 0.506, 0.484, 0.48, 0.503, 0.517, 0.491, 0.479, 0.496, 0.503, 0.451, 0.479, 0.517, 0.51, 0.484, 0.504, 0.513, 0.503, 0.488, 0.467, 0.476, 0.477, 0.45, 0.493, 0.463, 0.503, 0.495, 0.485, 0.489, 0.476, 0.517, 0.475, 0.495, 0.489, 0.461, 0.451, 0.515, 0.492, 0.478, 0.48, 0.45, 0.48, 0.492, 0.477, 0.483, 0.461],
]

fig, axes = plt.subplots(nrows=1, ncols=1, figsize=(6,6))

# axes.violinplot(data, pos, points=20, widths=0.1,
#                       showmeans=True, showextrema=True, showmedians=True)
# axes.set_title('Custom violinplot 1', fontsize=fs)

# axes.violinplot(data, pos, points=40, widths=0.3,
#                       showmeans=True, showextrema=True, showmedians=True,
#                       bw_method='silverman')
# axes.set_title('Custom violinplot 2', fontsize=fs)

axes.violinplot(data, pos, points=250, widths=0.5, showmeans=True,
                      showextrema=True, showmedians=True, bw_method='silverman')
axes.set_title('Violinplots', fontsize=fs)

fig.suptitle("Violin Plotting")
fig.subplots_adjust(hspace=0.4)
plt.show()
